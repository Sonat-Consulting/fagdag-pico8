pico-8 cartridge // http://www.pico-8.com
version 18
__lua__

left,right,up,down,fire1,fire2=0,1,2,3,4,5
black,dark_blue,dark_purple,dark_green,brown,dark_gray,light_gray,white,red,orange,yellow,green,blue,indigo,pink,peach=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15


player = {}
player.x = 20
player.y = 20
player.sprite = 0
player.speed = 2

thief = {}
thief.x = flr(rnd(128))
thief.y = flr(rnd(128))
thief.sprite = 65
thief.speed = 3
thief.direction = 0

function move()
 player.moving = true
 player.sprite += 1
 if player.sprite > 5 then
  player.sprite = 0
 end
end

function moveThief()
    thief.sprite = thief.sprite == 65 and 66 or 65
    thief.x = thief.x % 128
    thief.y = thief.y % 128
    if thief.direction == 0 then
        thief.x -= thief.speed
    elseif thief.direction == 1 then
        thief.x += thief.speed
    elseif thief.direction == 2 then
        thief.y -= thief.speed
    else
        thief.y += thief.speed
    end
end

function _update()
    player.moving = false

    if btn(0) then
        player.x -= player.speed
        move()
        thief.direction = 1
    end
    
    if btn(1) then
        player.x += player.speed
        move()
        thief.direction = 0
    end

    if btn(2) then
        player.y -= player.speed
        move()
        thief.direction = 3
    end

    if btn(3) then
        player.y += player.speed
        move()
        thief.direction = 2
    end

    if not player.moving then
        player.sprite = 0
    end

    moveThief()
end

function _draw()
    cls()
    spr(player.sprite, player.x, player.y)
    spr(thief.sprite, thief.x, thief.y)
end


__gfx__
80999900809999008099990080999900809999008099990000000000000000000000000000000000000000000000000000000000000000000000000000000000
08888880088888800888888008888880088888800888888000000000000000000000000000000000000000000000000000000000000000000000000000000000
09f1ff1009f1ff1009f1ff1009f1ff1009f1ff1009f1ff1000000000000000000000000000000000000000000000000000000000000000000000000000000000
49fffff049fffff049fffff049fffff049fffff049fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ddddddd0ddddddd0ddddddd0ddddddd0ddddddd0ddddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000
f0dddd0ff0dddd0ff0dddd0ff0dddd0ff0dddd0ff0dddd0f00000000000000000000000000000000000000000000000000000000000000000000000000000000
00d00d0000d000d000d00d0000d0d00000d000d000d00d0000000000000000000000000000000000000000000000000000000000000000000000000000000000
00f00f0000f0000f00f00f0000ff000000f0000f00f00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009999000099990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000099999900999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000f1ff1f00f1ff1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ffffff00ffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000f077770f0077770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000077777700777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000700700f070070f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000f00f0000f00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777000007070707070707077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700700007707077077070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000707070007070707770707077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000770707007707070777070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000707077007070707770707077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000770707707707070777070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000707070707070707770707077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000770707707707070777070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000081060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000082070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000083070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
